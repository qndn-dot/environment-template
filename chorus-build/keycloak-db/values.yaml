postgresql:
  global:
    postgresql:
      auth:
        username: keycloak
        database: keycloak
        existingSecret: keycloak-db-secret
        secretKeys:
          adminPasswordKey: postgres-password
          userPasswordKey: password

  tls:
    enabled: true
    certificatesSecret: keycloak-db-tls-secret

  primary:
    resourcesPreset: "large"
    persistence:
      size: 1Gi

  metrics:
    resourcesPreset: "micro"

  # Warning: Keycloak is still on 16
  # https://www.keycloak.org/server/db
  image:
    # https://hub.docker.com/r/bitnami/postgresql
    registry: docker.io
    repository: bitnami/postgresql
    tag: 16.4.0

certificate:
  enabled: true

  secretName: keycloak-db-tls-secret # same as above

  issuerRef:
    name: private-ca-cluster-issuer
    kind: ClusterIssuer
